(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{388:function(s,e,t){"use strict";t.r(e);var a=t(26),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"node新手课（10）nodejs操作redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node新手课（10）nodejs操作redis"}},[s._v("#")]),s._v(" node新手课（10）nodejs操作redis")]),s._v(" "),t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("p",[s._v("上节课我们讲了 nodejs 操作 mysql，今天我们来讲解 nodejs 操作 redis")]),s._v(" "),t("h2",{attrs:{id:"安装-redis-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-redis-包"}},[s._v("#")]),s._v(" 安装 redis 包")]),s._v(" "),t("p",[s._v("在 sir-koa 目录下执行")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ npm i ioredis --save\n")])])]),t("h2",{attrs:{id:"redis-配置和操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-配置和操作"}},[s._v("#")]),s._v(" redis 配置和操作")]),s._v(" "),t("blockquote",[t("p",[s._v("config/redis.js")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('const Config = {\n    host: "127.0.0.1", // Redis host\n    port: 6379, // Redis port\n    password: "",\n    db: 0,\n}\nexports = {\n    Config\n}\n')])])]),t("blockquote",[t("p",[s._v("model/redis.js")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const ioRedis = require('ioredis');\nconst { Config } = require('../../config/redis') //redis 配置\nclass Redis {\n    constructor() {\n        this.redis = new ioRedis(Config);//创建 redis 连接\n    }\n    async get(key) {\n        const data = await this.redis.get(key);\n        return JSON.parse(data);\n    }\n    async set(key, value) {\n        await this.redis.set(\n            key,\n            JSON.stringify(value)\n        );\n    }\n    async destroy(key) {\n        return await this.redis.del(key);\n    }\n}\n\nmodule.exports = Redis;\n\n")])])]),t("p",[s._v("现在我们可以在项目中使用 redis 做数据缓存了。当然只是针对简单的字符串操作，你也可以拓展，加入对其他数据结构的操作方法")]),s._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("nodejs 操作 redis 就讲完了，你掌握了吗？有问题欢迎到群里和志同道合的小伙伴一起交流。")]),s._v(" "),t("p",[s._v("下节课我们讲解微信小程序登录，继续加油吧，Let's go！")])])}),[],!1,null,null,null);e.default=r.exports}}]);