(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{474:function(_,t,v){"use strict";v.r(t);var r=v(49),d=Object(r.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"mysql面试（3）服务器配置类问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql面试（3）服务器配置类问题"}},[_._v("#")]),_._v(" mysql面试（3）服务器配置类问题")]),_._v(" "),v("h2",{attrs:{id:"sql-mode"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sql-mode"}},[_._v("#")]),_._v(" SQL_MODE")]),_._v(" "),v("ul",[v("li",[_._v("配置 MySQL 处理 SQL 方式")]),_._v(" "),v("li",[_._v("set [session/global/persisi] sql_model='xxxx'")]),_._v(" "),v("li",[_._v("[mysqld] sql_model=xxx")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("SQL_MODE")]),_._v(" "),v("th",[_._v("说明")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("ONLY_FULL_GROUP_BY")]),_._v(" "),v("td",[_._v("对于 GROUP BY 聚合操作，如果出现在 SELECT 中的列、HAVING 或者 ORDER BY 子句的非聚合列，没有在 GROUP BY 中出现，那么这个 SQL 语法检查报错")])]),_._v(" "),v("tr",[v("td",[_._v("ANSI_QUOTES")]),_._v(" "),v("td",[_._v("禁止使用双引号来引用字符串")])]),_._v(" "),v("tr",[v("td",[_._v("REAL_AS_FLOAT")]),_._v(" "),v("td",[_._v("Real 作为 float 的同义词")])]),_._v(" "),v("tr",[v("td",[_._v("PIPES_AS_CONCAT")]),_._v(" "),v("td",[_._v("把'")])]),_._v(" "),v("tr",[v("td",[_._v("STRICT_TRANS_TABLES/STRICT_ALL_TABLES")]),_._v(" "),v("td",[_._v("在事务存储引擎 / 所有存储引擎上启用严格模式，SQL 语法检查报错")])]),_._v(" "),v("tr",[v("td",[_._v("ERROR_FOR_DIVISION_BY_ZERO")]),_._v(" "),v("td",[_._v("不允许 0 作为除数")])]),_._v(" "),v("tr",[v("td",[_._v("NO_AUTO_CREATE_USER")]),_._v(" "),v("td",[_._v("在用户不存在时不允许 grant 语句自动建立用户")])]),_._v(" "),v("tr",[v("td",[_._v("NO_ZERO_IN_DATE/NO_ZERO_DATE")]),_._v(" "),v("td",[_._v("日期数据内 / 日期数据不能含 0")])]),_._v(" "),v("tr",[v("td",[_._v("NO_ENGINE_SUBSTITUTION")]),_._v(" "),v("td",[_._v("当指定存储引擎不可用时报错")])])])]),_._v(" "),v("h2",{attrs:{id:"使用-set-命令配置动态参数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用-set-命令配置动态参数"}},[_._v("#")]),_._v(" 使用 set 命令配置动态参数")]),_._v(" "),v("ul",[v("li",[_._v("set[session|@@session.]system_var_name=expr")]),_._v(" "),v("li",[_._v("set[global|@@global.]system_var_name=expr")]),_._v(" "),v("li",[_._v("set[persist|@@persist.]system_var_name=expr")])]),_._v(" "),v("h2",{attrs:{id:"使用-pt-config-diff-工具比较配置文件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用-pt-config-diff-工具比较配置文件"}},[_._v("#")]),_._v(" 使用 pt-config-diff 工具比较配置文件")]),_._v(" "),v("ul",[v("li",[_._v("pt-config-diff u=root, p=, h=localhost /etc/my.cnf")])]),_._v(" "),v("h2",{attrs:{id:"常用性能参数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#常用性能参数"}},[_._v("#")]),_._v(" 常用性能参数")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th"),_._v(" "),v("th",[_._v("参数")]),_._v(" "),v("th",[_._v("说明")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("服务器配置参数")]),_._v(" "),v("td",[_._v("max_connections")]),_._v(" "),v("td",[_._v("设置 MySQL 允许访问的最大连接数量")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("interactive_timeout")]),_._v(" "),v("td",[_._v("设置交互连接的超时时间")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("wait_timeout")]),_._v(" "),v("td",[_._v("设置非交互连接的超时时间")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("max_allowed_packet")]),_._v(" "),v("td",[_._v("MySQL 可以接收的数据包大小")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("sync_binlog")]),_._v(" "),v("td",[_._v("每写多少次缓冲会向磁盘同步一次 binlog")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("sort_buffer_size")]),_._v(" "),v("td",[_._v("设置每个会话使用的排序缓存区的大小")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("join_buffer_size")]),_._v(" "),v("td",[_._v("设置每个会话使用的连接缓冲的大小")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("read_buffer_size")]),_._v(" "),v("td",[_._v("当对一个 MYISAM 进行表扫描时锁分配的读缓存池大小")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("read_rnd_buffer_size")]),_._v(" "),v("td",[_._v("设置控制索引缓冲区大小")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("read_rnd_buffer_size")]),_._v(" "),v("td",[_._v("设置每个会话用于缓存未提交事务缓存大小")])]),_._v(" "),v("tr",[v("td",[_._v("存储引擎参数")]),_._v(" "),v("td",[_._v("innodb_flush_log_at_trx_commit")]),_._v(" "),v("td",[_._v("0：每秒一次刷新日志到磁盘，1：每次事务提交都会刷新事务日志到磁盘，2：每次事务提交写入系统缓存，每秒向磁盘刷新一次")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("innodb_buffer_pool_size")]),_._v(" "),v("td",[_._v("设置 innodb 缓冲池大小，应为系统可用内存的 75%")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("innodb_buffer_pool_instances")]),_._v(" "),v("td",[_._v("Innodb 缓冲池的实例个数，每个实例大小为总缓冲池大小 / 实例个数")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("innodb_file_per_table")]),_._v(" "),v("td",[_._v("设置每个表独立使用一个表空间文件")])])])]),_._v(" "),v("h2",{attrs:{id:"欢迎扫描下方二维码，个人博客，持续关注："}},[v("a",{staticClass:"header-anchor",attrs:{href:"#欢迎扫描下方二维码，个人博客，持续关注："}},[_._v("#")]),_._v(" 欢迎扫描下方二维码，"),v("a",{attrs:{href:"https://www.phpst.cn",target:"_blank",rel:"noopener noreferrer"}},[_._v("个人博客"),v("OutboundLink")],1),_._v("，持续关注：")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://ww1.sinaimg.cn/large/a616b9a4gy1g4xzv954a4j20760763yo.jpg",alt:""}})]),_._v(" "),v("p",[_._v("互联网工程师（id:phpstcn），我们一起学习，一起进步")])])}),[],!1,null,null,null);t.default=d.exports}}]);